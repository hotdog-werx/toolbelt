# Configuration for testing cross-platform text replacement (per_file tool)
# Replaces previous sed-based implementation (BSD/GNU differences, absent on Windows).
# Uses Python so it works uniformly on all CI runners.
#
# The script replaces occurrences of 'old' with 'new' in each target file.
#
# NOTE: Keep test expectations in sync if modifying replacement logic.

global_exclude_patterns:
  - '**/__pycache__/**'
  - '*.pyc'

profiles:
  text:
    name: text
    extensions:
      - '.txt'
    check_tools: []
    format_tools:
      - name: 'text-replace'
        command: 'python'
        args:
          - '-c'
          - |
            import pathlib, sys
            for p in sys.argv[1:]:
                path = pathlib.Path(p)
                path.write_text(path.read_text().replace("old", "new"))
        file_handling_mode: 'per_file'
        description: 'Replace text using Python (cross-platform)'
